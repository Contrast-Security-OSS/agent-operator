# Release.Namespace is ignored. The operator must be created in a separate namespace.
namespace: contrast-agent-operator
image:
  registry: contrast
  repository: agent-operator
  # Defaults to the version specified in Chart.AppVersion.
  tag:

imageCredentials:
  # Name of the registry credential secret that should be used to pull the above image.
  pullSecretName: image-credentials
  # If enabled, a registry credential secret will be created using the above name and below credentials.
  enabled: false
  registry: contrast
  username:
  password:
  email:

operator:
  # The default registry to use, defaults to docker.io/contrast.
  defaultRegistry: contrast
  # The settle duration in seconds.
  # The time to wait to sync with the cluster before making changes.
  settleDuration: 10
  # Max number of events to queue from the K8s event stream.
  eventQueueSize: 10000
  # The action to perform when the event queue is full,
  # and the operator is unable to process events fast enough.
  # Wait:
  #   Waits for space to be available in order to complete the write operation.
  #   This might be useful for larger clusters, allow the queue to create back pressure on the "get the world" calls during startup.
  # DropOldest:
  #   Removes and ignores the oldest item in the channel in order to make room for the item being written.
  eventQueueFullMode: DropOldest
  # The secret containing the TLS certificates used for the webhook.
  # Used for to cache TLS certificate generation across restarts,
  # and to share the same certificate across operator instances (when running in HA mode).
  # Should not normally need to change.
  webhookSecretName: contrast-web-hook-secret
  # The name of the webhook to patch after certificate generation occurs.
  # Should not normally need to change.
  webhookConfiguration: contrast-web-hook-configuration
  # Enable early chaining. Should normally be disabled unless DynaKube is used in classicStack mode.
  enableEarlyChaining: false

clusterDefaults:
  # If enabled, configure cluster-wide defaults.
  enabled: false
  # Required. The Contrast UI instance to use. Defaults at the general SAAS instance.
  url: https://app.contrastsecurity.com/Contrast
  # Required. The API Key from the Contrast UI.
  apiKeyValue:
  # Required. The Service Key from the Contrast UI.
  serviceKeyValue:
  # Required. The User Name from the Contrast UI.
  userNameValue:
  # Optional. Any custom configuration to use. Must be in the format of the standard YAML file.
  yaml: |-
    enable: true
